function insertTemplates(){function e(e){t.clearCenterColumn();var n=_.findWhere(requestData.getData().dialogs,{id:e}).first_recipient_id,a=_.findWhere(requestData.getData().dialogs,{id:e}).second_recipient_id,r={messages:_.where(requestData.getData().messeges,{dialog_id:e}),users:_.filter(requestData.getData().users,function(e){return e.id==n||e.id==a})};t.insertData(t.centerColumn,t.centerColumnTemplate,r)}var t={centerColumnTemplate:document.getElementById("message-list").innerHTML,rightColumnTemplate:document.getElementById("right-colomn").innerHTML,centerColumn:document.querySelector(".dialog"),rightColumn:document.querySelector(".right-col-msgs"),clearCenterColumn:function(){this.centerColumn.innerHTML="Loading..."},insertData:function(e,t,n){e.innerHTML=Mustache.render(t,n)},dat:{messages:requestData.getData().messeges,users:requestData.getData().users}};t.insertData(t.centerColumn,t.centerColumnTemplate,t.dat),t.insertData(t.rightColumn,t.rightColumnTemplate,t.dat),routie("dialog/:dialId",function(t){dialIdArg=parseInt(t,10),"NaN"!=typeof dialIdArg&&e(dialIdArg)})}document.addEventListener("DOMContentLoaded",insertTemplates);